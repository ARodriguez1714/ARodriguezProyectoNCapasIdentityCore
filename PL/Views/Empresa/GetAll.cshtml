@model ML.Empresa
@{
    ViewData["Title"] = "GetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h2>Empresas</h2>
        </div>
        <hr />
    </div>

    @if (Model.Empresas != null)
    {
        <a href="@Url.ActionLink("Form", "Empresa")" class="btn btn-success"><i class="bi bi-building-add"></i>  Agregar</a>

        <br />
        <br />

        <div class="row">
            <div class="col-md-12 table-responsive">
                <table class="table table-striped table-bordered" id="tblEmpresa">
                    <thead>
                        <tr>
                            <th class="text-center">Editar</th>
                            <th class="text-center">Nombre</th>
                            <th class="text-center">Teléfono</th>
                            <th class="text-center">Email</th>
                            <th class="text-center">Dirección Web</th>
                            <th class="text-center">Eliminar</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (ML.Empresa empresa in Model.Empresas)
                        {
                            <tr>
                                <td class="text-center"><a href="@Url.ActionLink("Form", "Empresa", new {IdEmpresa = empresa.IdEmpresa})" class="btn btn-warning"><i class="bi bi-pencil"></i></a></td>
                                <th class="text-center">@empresa.Nombre</th>
                                <th class="text-center">@empresa.Telefono</th>
                                <th class="text-center">@empresa.Email</th>
                                <th class="text-center">@empresa.DireccionWeb</th>
                                <td class="text-center"><a href="@Url.ActionLink("Delete", "Empresa", new {IdEmpresa = empresa.IdEmpresa})" OnClick="return confirm('¿Estas seguro de eliminar la empresa?');" class="btn btn-danger"><i class="bi bi-trash"></i></a></td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
    else
    {
    <div class="alert alert-danger alert-dismissible" role="alert">
        No existen registros.
    </div>
    }

</div>
@section scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.css" />

    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#tblEmpresa').DataTable();
        });
    </script>

}
